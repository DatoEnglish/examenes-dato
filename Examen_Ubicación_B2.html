<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager English Test (20 Questions)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a3b70;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .question-container {
            display: none;
        }
        .active {
            display: block;
        }
        .option:hover {
            background-color: #fff1ed;
        }
        .option.selected {
            background-color: #ffcebf;
            border-color: #ff683b;
        }
        .option.correct {
            background-color: #bbf7d0;
            border-color: #22c55e;
        }
        .option.incorrect {
            background-color: #fecaca;
            border-color: #ef4444;
        }
        .custom-orange {
            color: #ff683b;
        }
        .custom-orange-bg {
            background-color: #ff683b;
        }
        .custom-orange-hover:hover {
            background-color: #e55a32;
        }
        .logo-container {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 10;
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="logo-container">
        <svg width="120" height="40" viewBox="0 0 120 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="120" height="40" rx="8" fill="#ff683b"></rect>
            <text x="60" y="25" font-family="Poppins, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">DATO</text>
        </svg>
    </div>

    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <div id="test-container">
            <div id="student-info" class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h1 class="text-3xl font-bold text-center custom-orange mb-6">Manager English Level Test</h1>
                <p class="text-center text-gray-500 mb-6">20 Questions - Single Section</p>
                <div class="space-y-4">
                    <div class="flex flex-col">
                        <label for="student-name" class="text-gray-700 font-medium mb-1">Nombre Aplicante:</label>
                        <input type="text" id="student-name" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff683b]">
                    </div>
                    <div class="flex flex-col">
                        <label for="student-id" class="text-gray-700 font-medium mb-1">Email Aplicante:</label>
                        <input type="text" id="student-id" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff683b]">
                    </div>
                    <div class="flex flex-col">
                        <label for="teacher-name" class="text-gray-700 font-medium mb-1">Nombre Asesor:</label>
                        <input type="text" id="teacher-name" class="border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff683b]">
                    </div>
                    <button id="start-test" class="w-full custom-orange-bg text-white font-medium py-2 px-4 rounded-md custom-orange-hover transition duration-300 mt-4">Start Test</button>
                </div>
            </div>

            <div id="test-progress" class="bg-white rounded-lg shadow-lg p-6 mb-8 hidden">
                <div class="flex justify-between items-center mb-2">
                    <h2 id="section-title" class="text-xl font-semibold custom-orange">General Knowledge</h2>
                    <span id="progress-text" class="text-gray-600">Question 1 of 20</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="progress-bar custom-orange-bg h-2.5 rounded-full" style="width: 5%"></div>
                </div>
            </div>

            <div id="test-content" class="hidden">
                <div id="questions-section" class="space-y-8">
                    
                    <div id="question-1" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">1. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>A:</strong> When I was a kid, I _____ (hate) vegetables, I ______ (not, eat) them but.... </p>
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) used to hate / wouldn't eat</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) hated / didn't eat</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) would hate / didn't eat</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) hate / used to eat</div>
                        </div>
                    </div>

                    <div id="question-2" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">2. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>A:</strong> ... but _____ (push) them to the side of my plate. I _______ (always,  cause) trouble at my meal times </p>
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) pushed / would always caused</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) would push / always caused </div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) didn't push / always caused</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) used to push / would always cause</div>
                        </div>
                    </div>

                    <div id="question-3" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">3. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>B:</strong> Well, luckily our tastes in things _______ (tend, change) as we get older. In school I _____ (play) soccer and basketball, but ... </p>
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) tend to change / used to play</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) would tend to change / used to play</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) tended to change / played</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D)tend to change / played</div>
                        </div>
                    </div>

                    <div id="question-4" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">4. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>B:</strong> ... but I _____ (never,play) any sports now. My friends say I'm _____ (less,active) person they know </p>
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) never playing / the least active</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) never played / less active than</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) never play / the least active</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) never play / less active than</div>
                        </div>
                    </div>

                    <div id="question-5" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">5. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>A:</strong> I'm the opposite. I'm ______ (athletic) now than I was before, and as a child, I _____ (spend) all my money on comics and candy. Now two of my ______ (big) expenses are electronics and my car.</p>
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) more athletic / spent / biggest</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) more athletic / would spend / biggest</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) more athletic / spend / biggest</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) athleticer / would spend / biggest</div>
                        </div>
                    </div>

                    <div id="question-6" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">6. Complete the conversation. Use comparative and superlative forms when necessary. Use would & used to when possible.</h3>
                        <p class="mb-2"><strong>B:</strong> For, me a car _____ (not, useful,enough,spend) money on. It's _______ (important, see) friends than _____ (drive) a car.</p>
                        <div class="space-y-2 mt-6"> 
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) is not useful enough to spend / very important / to drive</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) is not useful enough to spend / more important to see / driving</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) is not useful enough to spend / most important to see / to drive</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) is not useful enough to spend / more important to see / to drive</div>
                        </div>
                    </div>

                    <div id="question-7" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">7. Choose the correct option: Have you ever heard the expression "claim to fame"? It's that thing that makes someone famous or interesting. For truly famous people, it usually invols talent. For example Sharkira's claim to fame isn't (only / even) her voice. People think of her voice and her dance moves (unless / whenever) they hear her name.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) only / whenever</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) only / unless</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) even / whenever</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) even / unless</div>
                        </div>
                    </div>

                    <div id="question-8" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">8. Choose the correct option: For (others / one another), it's often something silly or unusual. My brother's claim to fame is doing magic tricks. He would practice in his room (by himself / by herself) for hours as a child befoe he showed the family.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) one another / by himself</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) others / by herself</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) others / by himself</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) one another / by herself</div>
                        </div>
                    </div>

                    <div id="question-9" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">9. Choose the correct option: (Providing / Even if) he's in a good mood, he still likes to show off his tricks today. He does this (such / so) often that everyone expects it now.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) Providing / so </div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) Providing / such</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) Even if / so</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) Even if / such</div>
                        </div>
                    </div>

                    <div id="question-10" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">10. Choose the correct option: And he does the tricks (only if / even if) he knows we've all seen them before. I think it's annoying, but the two of us always annoy (each other / the others.) </h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) even if / the others</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) even if / each other</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) only if / each other</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) only if / the others</div>
                        </div>
                    </div>

                    <div id="question-11" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">11.Choose the correct option: If you want to go on a cheap vacation, you (should try / won't try) a virtual trip. There are (any / many) websites that offer virtual vacations you can take from your couch </h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) won't try / many</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) won't try / any</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) should try / many</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) should try / any</div>
                        </div>
                    </div>

                    <div id="question-12" class="question-container bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-lg font-medium mb-4">12. Choose the correct option: One website (denied / boasted) that you (would feel / are feeling) like you were there without ever leaving the house.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) boasted / would feel</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) boasted / are feeling </div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) denied / would feel</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) denied / are feeling</div>
                        </div>
                    </div>

                    <div id="question-13" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">13. Choose the correct option: Even if it's not (as good as / good as) a real vacation, a virtual vacation, (could make / can't make) you feel relaxed.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) as good as / can't make</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) as good as / could make</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) as good / can't make</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) as good / could make</div>
                        </div>
                    </div>

                   <div id="question-14" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">14. Choose the correct option: One VR travel company (hopes to/ claims) that you (enjoyed / might enjoy) a VR vacation more than a real trip because you don't have to deal with travel.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) hopes to / enjoyed</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) hopes to / might enjoy</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) claims / enjoyed</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) claims / might enjoy</div>
                        </div>
                    </div>

                    <div id="question-15" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">15. Choose the correct option: If you take a lot of virtual trips, you (shouldn't learn / may learn) about amazing places (around / round) the world.</h3>
                        <div class="space-y-2">
                        <div class="space-y-2 mt-6">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) shouldn't learn / around</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) shouldn't learn / round</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) may learn / around</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) may learn / round</div>
                        </div>
                    </div>

                    <div id="question-16" class="question-container bg-white rounded-lg shadow-lg p-6">
                       <h3 class="text-lg font-medium mb-4">16. Choose the correct option: But some people (told / argue) that a VR trip (would be / wouldn't be) the same as going to a new place.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) argue / wouldn't be</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) argue / would be </div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) told / wouldn't be</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) told / would be</div>
                        </div>
                    </div>

                    <div id="question-17" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">17. Choose the correct option: I have one article (of/in) clothing that I wear much more often than (many / any) other.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) of / many</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) of / any</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) in / many</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) in / any</div>
                        </div>
                    </div>

                    <div id="question-18" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">18. Choose the correct option: It's always easy (to find / finding) stuff online to help you (understand / understanding) difficult subjects.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) to find / understand</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) finding / understand</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) to find / understanding</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) finding / understanding</div>
                        </div>
                    </div>

                    <div id="question-19" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">19. Choose the correct option: People in my country learn English particularly (easy / easily) because it's similar to (our / my) language.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) easy / my</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) easy / our</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) easily / my</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) easily / our</div>
                        </div>
                    </div>

                    <div id="question-20" class="question-container bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-lg font-medium mb-4">20. Choose the correct option: (Out of all / All of out) foreign languages, I wish I (can / could) speak korean.</h3>
                        <div class="space-y-2">
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="A">A) Out of all / can</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="B">B) Out of all / could</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="C">C) All of out / can</div>
                            <div class="option border border-gray-300 rounded-md p-3 cursor-pointer" data-value="D">D) All of out / could</div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-between mt-8">
                    <button id="prev-btn" class="bg-gray-500 text-white font-medium py-2 px-6 rounded-md hover:bg-gray-600 transition duration-300">Previous</button>
                    <button id="next-btn" class="custom-orange-bg text-white font-medium py-2 px-6 rounded-md custom-orange-hover transition duration-300">Next</button>
                </div>
            </div>

            <div id="results-section" class="hidden bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-center custom-orange mb-6">Test Results</h2>
                <div id="student-info-display" class="mb-6 p-4 bg-gray-50 rounded-md">
                    <p><strong>Student Name:</strong> <span id="result-student-name"></span></p>
                    <p><strong>Student's Email:</strong> <span id="result-student-id"></span></p>
                    <p><strong>Teacher's Name:</strong> <span id="result-teacher-name"></span></p>
                    <p><strong>Date:</strong> <span id="result-date"></span></p>
                    <p><strong>Test Type:</strong> <span>Short Placement (20Q)</span></p>
                </div>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="text-xl font-semibold">Overall Score</h3>
                        <span id="overall-score" class="text-xl font-bold custom-orange">0/100</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4">
                        <div id="overall-progress" class="custom-orange-bg h-4 rounded-full" style="width: 0%"></div>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xl font-semibold mb-4">Detailed Results</h3>
                    <div class="space-y-6">
                        <div id="results-details" class="bg-gray-50 p-4 rounded-md">
                            <h4 class="font-medium mb-2">Answers</h4>
                            <div id="all-questions-details" class="space-y-2"></div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button id="send-results" class="custom-orange-bg text-white font-medium py-2 px-6 rounded-md custom-orange-hover transition duration-300">Send Results</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Test data - Reduced to 20 Questions
            const correctAnswers = {
                1: "A", 2: "D", 3: "A", 4: "C", 5: "B", 
                6: "D", 7: "A", 8: "C", 9: "A", 10: "B",
                11: "C", 12: "A", 13: "B", 14: "D", 15: "C", 
                16: "A", 17: "B", 18: "A", 19: "D", 20: "B"
            };

            // Full text of correct answers for 1-20
            const correctAnswerText = {
                1: "used to hate / wouldn't eat",
                2: "used to push / would always cause",
                3: "tend to change / used to play",
                4: "never play / the least active",
                5: "more athletic / would spend / biggest",
                6: "is not useful enough to spend / more important to see / to drive",
                7: "only / whenever",
                8: "others / by himself",
                9: "Providing / so",
                10: "even if / each other",
                11: "should try / many",
                12: "boasted / would feel",
                13: "as good as / could make",
                14: "claims / might enjoy",
                15: "may learn / around",
                16: "argue / wouldn't be",
                17: "of / any",
                18: "to find / understand",
                19: "easily / our",
                20: "Out of all / could"
            };

            // Store all question texts
            const questionTexts = {};
            document.querySelectorAll('.question-container').forEach(container => {
                const questionId = container.id;
                const questionNumber = parseInt(questionId.split('-')[1]);
                if (questionNumber <= 20) {
                    const questionText = container.querySelector('h3').textContent;
                    questionTexts[questionNumber] = questionText;
                }
            });

            // Variables to track test state
            let currentQuestion = 1;
            const totalQuestions = 20;
            window.userAnswers = {};
            
            // DOM elements
            const studentInfo = document.getElementById('student-info');
            const testProgress = document.getElementById('test-progress');
            const testContent = document.getElementById('test-content');
            const resultsSection = document.getElementById('results-section');
            const startTestBtn = document.getElementById('start-test');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            
            // Initialize the test
            function initTest() {
                // Hide all questions
                document.querySelectorAll('.question-container').forEach(q => {
                    q.classList.remove('active');
                });
                
                // Show first question
                document.getElementById('question-1').classList.add('active');
                
                // Update progress
                updateProgress();
                
                // Setup option selection
                setupOptionSelection();
            }

            // Start the test
            startTestBtn.addEventListener('click', function() {
                const studentName = document.getElementById('student-name').value.trim();
                const studentId = document.getElementById('student-id').value.trim();
                const teacherName = document.getElementById('teacher-name').value.trim();
                
                if (!studentName || !studentId || !teacherName) {
                    alert('Please fill in all student information fields.');
                    return;
                }
                
                studentInfo.classList.add('hidden');
                testProgress.classList.remove('hidden');
                testContent.classList.remove('hidden');
                
                initTest();
            });

            // Setup option selection
            function setupOptionSelection() {
                document.querySelectorAll('.option').forEach(option => {
                    option.addEventListener('click', function() {
                        // Remove selected class from all options in the same question
                        const questionId = this.closest('.question-container').id;
                        const questionNumber = parseInt(questionId.split('-')[1]);
                        
                        document.querySelectorAll(`#${questionId} .option`).forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        // Add selected class to clicked option
                        this.classList.add('selected');
                        
                        // Save the answer
                        userAnswers[questionNumber] = this.getAttribute('data-value');
                    });
                });
            }

            // Update progress bar and text
            function updateProgress() {
                const progressPercentage = (currentQuestion / totalQuestions) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                
                // Update progress text
                progressText.textContent = `Question ${currentQuestion} of ${totalQuestions}`;
                
                // Update button states
                prevBtn.disabled = currentQuestion === 1;
                prevBtn.classList.toggle('opacity-50', currentQuestion === 1);
                
                if (currentQuestion === totalQuestions) {
                    nextBtn.textContent = "Submit Test";
                } else {
                    nextBtn.textContent = "Next";
                }
            }

            // Navigate to previous question
            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 1) {
                    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
                    currentQuestion--;
                    document.getElementById(`question-${currentQuestion}`).classList.add('active');
                    updateProgress();
                }
            });

            // Navigate to next question or submit test
            nextBtn.addEventListener('click', function() {
                if (currentQuestion < totalQuestions) {
                    document.getElementById(`question-${currentQuestion}`).classList.remove('active');
                    currentQuestion++;
                    document.getElementById(`question-${currentQuestion}`).classList.add('active');
                    updateProgress();
                } else {
                    // Show results
                    showResults();
                }
            });

            // Show test results
            function showResults() {
                testProgress.classList.add('hidden');
                testContent.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                
                // Display student info
                document.getElementById('result-student-name').textContent = document.getElementById('student-name').value;
                document.getElementById('result-student-id').textContent = document.getElementById('student-id').value;
                document.getElementById('result-teacher-name').textContent = document.getElementById('teacher-name').value;
                
                // Display current date
                const today = new Date();
                document.getElementById('result-date').textContent = today.toLocaleDateString();
                
                // Calculate scores (5 points per question now, to equal 100)
                let totalCorrect = 0;
                for (let i = 1; i <= totalQuestions; i++) {
                    if (userAnswers[i] === correctAnswers[i]) {
                        totalCorrect++;
                    }
                }
                const totalScore = totalCorrect * 5; 
                
                // Update score displays
                document.getElementById('overall-score').textContent = `${totalScore}/100`;
                document.getElementById('overall-progress').style.width = `${totalScore}%`;
                
                // Display detailed results
                displayDetailedResults();
            }

            // Display detailed results
            function displayDetailedResults() {
                const detailsContainer = document.getElementById(`all-questions-details`);
                detailsContainer.innerHTML = '';
                
                for (let i = 1; i <= totalQuestions; i++) {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'py-3 border-b border-gray-200 last:border-0';
                    
                    // Add the question text
                    const questionTextDiv = document.createElement('div');
                    questionTextDiv.className = 'mb-2 text-gray-700';
                    questionTextDiv.textContent = questionTexts[i];
                    
                    const questionSpan = document.createElement('div');
                    questionSpan.className = 'font-medium mb-1';
                    questionSpan.textContent = `Question ${i} (5 points):`;
                    
                    const resultDiv = document.createElement('div');
                    resultDiv.className = 'mt-1';
                    
                    if (!userAnswers[i]) {
                        resultDiv.innerHTML = '<span class="text-gray-500">Not answered</span>';
                    } else if (userAnswers[i] === correctAnswers[i]) {
                        resultDiv.innerHTML = `<span class="text-green-600 font-medium">‚úì Correct</span>
                                              <div class="text-sm mt-1">Your answer: ${userAnswers[i]}) ${correctAnswerText[i]}</div>`;
                    } else {
                        resultDiv.innerHTML = `<span class="text-red-600 font-medium">‚úó Incorrect</span>
                                              <div class="text-sm mt-1">Your answer: ${userAnswers[i]}</div>
                                              <div class="text-sm text-green-600">Correct answer: ${correctAnswers[i]}) ${correctAnswerText[i]}</div>`;
                    }
                    
                    questionDiv.appendChild(questionSpan);
                    questionDiv.appendChild(questionTextDiv);
                    questionDiv.appendChild(resultDiv);
                    detailsContainer.appendChild(questionDiv);
                }
            }

            // Send results
            document.getElementById('send-results').addEventListener('click', function () {
                const formData = new URLSearchParams();
                const studentName = document.getElementById('student-name').value;
                const teacherEmail = document.getElementById('student-id').value;
                const teacherName = document.getElementById('teacher-name').value;

                formData.append("studentName", studentName);
                formData.append("teacherEmail", teacherEmail);
                formData.append("teacherName", teacherName);
                formData.append("writing", ""); // No writing section
                formData.append("sheetName", "Manager"); // Manteniendo el nombre de la hoja original

                // Send 1-20
                for (let i = 1; i <= 20; i++) {
                    const answer = userAnswers[i] || "No answer";
                    formData.append("q" + i, answer);
                }

                console.log("üì§ Enviando respuestas del test...");

                // Using the same original URL
                fetch("https://script.google.com/macros/s/AKfycbzRjKykpYoHCRVw79Zusk_sI8PMilAspOY0SVde35sD_2yUPx60BT8IBNi0AiBzgNrf/exec", {
                    method: "POST",
                    body: formData
                })
                .then(() => {
                    console.log("‚úÖ Datos enviados");
                    alert("‚úÖ Resultados enviados correctamente.");
                })
                .catch(error => {
                    console.error("‚ùå Error al enviar:", error);
                    alert("‚ùå Ocurri√≥ un error al enviar los resultados.");
                });
            });
        });
    </script>
</body>
</html>
